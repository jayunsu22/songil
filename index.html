<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì„¬ì„¸í•œ 1ë¶„ í•„ë¦„ê²¬ì </title>
<style>
        /* [ìŠ¤íƒ€ì¼(CSS) ë¶€ë¶„ì€ ì´ì „ê³¼ ë™ì¼í•©ë‹ˆë‹¤] */
body {
font-family: Arial, sans-serif;
margin: 0;
@@ -84,11 +83,13 @@
border-bottom-left-radius: 5px;
font-weight: bold;
}
        .share-button-n8n {

        /* [!] 3ë²ˆ ìš”ì²­: (íŒŒë€ìƒ‰) ê³µìœ  ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .share-button-html {
display: block;
            width: 100%; 
            box-sizing: border-box; 
            margin-top: 20px; 
            width: 100%; /* ë¶€ëª¨(ë²„ë¸”) ëŒ€ë¹„ 100% */
            box-sizing: border-box; /* íŒ¨ë”© í¬í•¨ */
            margin-top: 20px; /* ìœ„ ì—¬ë°± */
padding: 12px;
background-color: #4A90E2;
color: white;
@@ -100,9 +101,10 @@
cursor: pointer;
transition: background-color 0.2s;
}
        .share-button-n8n:hover {
        .share-button-html:hover {
background-color: #357ABD;
}

.chat-input-area {
display: flex;
padding: 15px;
@@ -178,25 +180,22 @@
color: #555;
line-height: 1.6;
}
        
        /* [!] 1ë²ˆ ìš”ì²­: ì—°ë½ì²˜ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
.contact-box {
            background-color: #f0f8ff; 
            border: 1px solid #4A90E2;  
            background-color: #f0f8ff; /* ì—°í•œ í•˜ëŠ˜ìƒ‰ ë°°ê²½ */
            border: 1px solid #4A90E2;  /* íŒŒë€ìƒ‰ í…Œë‘ë¦¬ */
border-radius: 8px;
padding: 12px;
margin-top: 20px;
}
        .contact-title {
            font-size: 1.1em;
            font-weight: bold;
            color: #111;
            margin-bottom: 10px;
        }
.contact-info {
font-size: 1em;
font-weight: 500;
color: #333;
margin: 5px 0;
}
        /* [!] 2ë²ˆ ìš”ì²­: ì „í™”ê±¸ê¸° ë§í¬ ìŠ¤íƒ€ì¼ */
.contact-info a {
color: #4A90E2;
text-decoration: none;
@@ -225,7 +224,7 @@ <h1>ì„¬ì„¸í•œ 1ë¶„ í•„ë¦„ê²¬ì </h1>
</div>

<script>
        // [!] n8n ì›¹í›… URL
        // [!] n8n ì›¹í›… URL (ì´ì „ì— ì…ë ¥í•˜ì‹  ê°’)
const N8N_WEBHOOK_URL = "https://primary-production-a6fa.up.railway.app/webhook/landbot-request"; 

const chatContainer = document.getElementById('chatContainer');
@@ -243,33 +242,42 @@ <h1>ì„¬ì„¸í•œ 1ë¶„ í•„ë¦„ê²¬ì </h1>
bubble.innerHTML = message; 
chatContainer.appendChild(bubble);

            // [!] 3ë²ˆ ìš”ì²­: JavaScriptê°€ ìœ ì¼í•˜ê²Œ ê³µìœ  ë²„íŠ¼ì„ ì¶”ê°€ (ì¤‘ë³µ ë°©ì§€)
if (isQuote) {
                const shareBtn = bubble.querySelector('.share-button-n8n'); 
                if (shareBtn) {
                // n8nì´ ë³´ë‚¸ HTMLì— ë²„íŠ¼ì´ ì—†ëŠ”ì§€ í™•ì¸
                if (!bubble.querySelector('.share-button-html')) {
                    const shareBtn = document.createElement('button');
                    shareBtn.className = 'share-button-html'; // ìƒˆ ìŠ¤íƒ€ì¼ ì ìš©
                    shareBtn.innerHTML = 'ê³µìœ í•˜ê¸°'; // í…ìŠ¤íŠ¸ ë³€ê²½
shareBtn.onclick = (e) => {
                        e.stopPropagation(); 
                        shareQuote(bubble); 
                        e.stopPropagation(); // ë²„ë¸” í´ë¦­ ë°©ì§€
                        shareQuote(bubble); // ê³µìœ  í•¨ìˆ˜ í˜¸ì¶œ
};
                    bubble.appendChild(shareBtn); // ë²„ë¸”ì˜ ìì‹ìœ¼ë¡œ ì¶”ê°€
}
}

chatContainer.scrollTop = chatContainer.scrollHeight;
}

        // [!] 3ë²ˆ ìš”ì²­: ê³µìœ  ê¸°ëŠ¥ í•¨ìˆ˜
function shareQuote(bubble) {
            // ë²„íŠ¼ì„ ì œì™¸í•œ ìˆœìˆ˜ í…ìŠ¤íŠ¸ë§Œ ì¶”ì¶œ
const quoteHTML = bubble.cloneNode(true);
            const btn = quoteHTML.querySelector('.share-button-n8n');
            const btn = quoteHTML.querySelector('.share-button-html');
if (btn) {
                btn.remove(); 
                btn.remove(); // ë³µì‚¬í•˜ê¸° ì „ì— ë²„íŠ¼ ì œê±°
}
const quoteText = quoteHTML.innerText.trim();

if (navigator.share) {
                // ëª¨ë°”ì¼ ê¸°ê¸° (ë„¤ì´í‹°ë¸Œ ê³µìœ )
navigator.share({
title: 'ì¸í…Œë¦¬ì–´ í•„ë¦„ ê²¬ì  ë‚´ì—­',
text: quoteText
}).catch(console.error);
} else {
                // PC (í´ë¦½ë³´ë“œ ë³µì‚¬)
navigator.clipboard.writeText(quoteText).then(() => {
alert('ê²¬ì  ë‚´ìš©ì´ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
}).catch(console.error);
@@ -322,22 +330,15 @@ <h1>ì„¬ì„¸í•œ 1ë¶„ í•„ë¦„ê²¬ì </h1>
throw new Error(`ì„œë²„ ì‘ë‹µ ì˜¤ë¥˜: ${response.status} ${response.statusText}`);
}

                // ----------------------------------------------------
                // [!] ğŸš¨ğŸš¨ ì—¬ê¸°ê°€ ìµœì¢… ìˆ˜ì •ëœ ë¶€ë¶„ì…ë‹ˆë‹¤ ğŸš¨ğŸš¨
                // n8nì´ [ {"message": "..."} ] (ë°°ì—´)ì´ ì•„ë‹Œ
                // { "message": "..." } (ê°ì²´)ë¥¼ ë³´ë‚´ëŠ” ë²„ê·¸ë¥¼ ìš°íšŒí•©ë‹ˆë‹¤.
                // ----------------------------------------------------
                const data = await response.json(); // .json()ìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤.
                // n8nì´ { "message": "..." } (ê°ì²´)ë¥¼ ë³´ëƒ…ë‹ˆë‹¤.
                const data = await response.json(); 

                // n8nì´ ë³´ë‚´ëŠ” ë°ì´í„°ëŠ” [ {"message": "..."} ] í˜•íƒœì…ë‹ˆë‹¤.
                // ë”°ë¼ì„œ dataê°€ ë°°ì—´ì´ê³  ì²« í•­ëª©ì´ ìˆìœ¼ë©´, ê·¸ ì•ˆì˜ messageë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
                if (Array.isArray(data) && data.length > 0 && data[0].message) {
                    addBubble(data[0].message, 'bot', true);
                // data.message (ê°ì²´)ë¥¼ ì°¾ìŠµë‹ˆë‹¤.
                if (data && data.message) {
                    addBubble(data.message, 'bot', true);
} else {
                    // ì´ else ë¸”ë¡ì€ n8nì´ ë¹ˆ ë°°ì—´ì´ë‚˜ ì—‰ëš±í•œ ë°ì´í„°ë¥¼ ë³´ëƒˆì„ ë•Œ ì‹¤í–‰ë©ë‹ˆë‹¤.
addBubble("âš ï¸ ì‘ë‹µ ë‚´ìš© ì—†ìŒ: n8nì—ì„œ ë¹ˆ ë©”ì‹œì§€ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤. (ë°ì´í„° í˜•ì‹ ë¶ˆì¼ì¹˜)", 'bot-error');
}
                // ----------------------------------------------------

} catch (error) {
clearInterval(timerId); 
